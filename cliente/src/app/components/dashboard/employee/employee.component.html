<div class="flex bg-amber-100">
    <app-navbar-side></app-navbar-side>
    <div class="flex-grow">
        <div class="">
            <div class="w-full px-8 h-20 flex items-center shadow-md">
            
                <p class="text-2xl font-bold">Empleados</p>
                <button (click)="showCreateEmployee()" class="bg-green-500 hover:bg-green-700 text-white py-1 px-4 mx-6 rounded-full">
                    Crear empleado
                  </button>

            </div>

            <div class="px-8 mt-8">
                <table datatable [dtOptions]="dtOptions" class="row-border hover overflow-x-auto shadow-md sm:rounded-lg bg-white">
                <thead class=" text-gray-700 bg-gray-50">
                    <tr>
                    <th>ID</th>
                    <th>First name</th>
                    <th>Last name</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                    <td>1</td>
                    <td>Foo</td>
                    <td>Bar</td>
                    </tr>
                    <tr>
                    <td>2</td>
                    <td>Someone</td>
                    <td>Youknow</td>
                    </tr>
                    <tr>
                    <td>3</td>
                    <td>Iamout</td>
                    <td>Ofinspiration</td>
                    </tr>
                    <tr>
                    <td>4</td>
                    <td>Yoda</td>
                    <td>Skywalker</td>
                    </tr>
                    <tr>
                    <td>5</td>
                    <td>Patrick</td>
                    <td>Dupont</td>
                    </tr>
                    <tr>
                    <td>6</td>
                    <td>Barack</td>
                    <td>Obama</td>
                    </tr>
                    <tr>
                    <td>7</td>
                    <td>François</td>
                    <td>Holland</td>
                    </tr>
                    <tr>
                    <td>8</td>
                    <td>Michel</td>
                    <td>Popo</td>
                    </tr>
                    <tr>
                    <td>9</td>
                    <td>Chuck</td>
                    <td>Norris</td>
                    </tr>
                    <tr>
                    <td>10</td>
                    <td>Simon</td>
                    <td>Robin</td>
                    </tr>
                    <tr>
                    <td>11</td>
                    <td>Louis</td>
                    <td>Lin</td>
                    </tr>
                    <tr>
                    <td>12</td>
                    <td>Zelda</td>
                    <td>Link</td>
                    </tr>
                </tbody>
                </table>
            </div>
        </div>



</div>
</div>

<div  *ngIf="!formIsHidden" class="fixed inset-0 flex items-center justify-center z-50">
    <div class="absolute inset-0 bg-black opacity-60"></div>
    <div [@opacity0To100] class="bg-white p-6 rounded-lg shadow-lg z-10 w-80 max-w-80 opacity-100">
      <h2 class="text-xl font-semibold mb-4">Crear Usuario</h2>
      <form [formGroup]="employeeForm" (submit)="createEmployee()">
        <div class="mb-4">
          <label for="nombre" class="block text-sm font-medium">Nombre</label>
          <input formControlName="firstName" type="text" id="nombre" name="nombre" class="w-full px-3 py-2 border rounded-md">
          <div *ngIf="employeeForm.get('firstName')!.errors && employeeForm.get('firstName')!.touched" class="text-md font-thin text-red-600">
            <div *ngIf="employeeForm.get('firstName')!.hasError('required')">El nombre es obligatorio.</div>
          </div>
        </div>
        <div class="mb-4">
          <label for="apellido" class="block text-sm font-medium">Apellido</label>
          <input formControlName="lastName" type="text" id="apellido" name="apellido" class="w-full px-3 py-2 border rounded-md">

          <div *ngIf="employeeForm.get('lastName')!.errors && employeeForm.get('lastName')!.touched" class="text-md font-thin text-red-600">
            <div *ngIf="employeeForm.get('lastName')!.hasError('required')">El apellido es obligatorio.</div>
          </div>
        </div>
        <div class="mb-4">
          <label for="correo" class="block text-sm font-medium">Correo</label>
          <input formControlName="email" type="email" id="correo" name="correo" class="w-full px-3 py-2 border rounded-md">

          <div *ngIf="employeeForm.get('email')!.errors && employeeForm.get('email')!.touched" class="text-md font-thin text-red-600">
            <div *ngIf="employeeForm.get('email')!.hasError('required')">El email es obligatorio.</div>
            <div *ngIf="employeeForm.get('email')!.hasError('pattern')">El email no es válido.</div>
          </div>
        </div>
        <div class="mb-4">
          <label for="contrasena" class="block text-sm font-medium">Contraseña</label>
          <input formControlName="password" type="password" id="contrasena" name="contrasena" class="w-full px-3 py-2 border rounded-md">

          <div *ngIf="employeeForm.get('password')!.errors && employeeForm.get('password')!.touched" class="text-md font-thin text-red-600">
            <div *ngIf="employeeForm.get('password')!.hasError('required')">La contraseña es obligatoria.</div>
            <div *ngIf="employeeForm.get('password')!.hasError('pattern')">La contraseña debe tener 1 mayuscula, 1 minuscula, un numero y minimo 8 caracteres.</div>
          </div>
        </div>
        <div class="flex justify-between">
          <button (click)="cancelForm()" type="button" class="px-4 py-2 bg-red-500 text-white rounded-md">Cancelar</button>
          <button type="submit" [disabled]="!employeeForm.valid" class="px-4 py-2 bg-blue-500 text-white rounded-md">Crear Usuario</button>
        </div>
      </form>
    </div>
  </div>